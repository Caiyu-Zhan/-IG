<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>山林走跳</title>

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    body { background-color: #e7e7e7; }
    .navbar-brand { font-weight: bold; font-size: 1.3rem; }
    .story-item { width: 80px; }
    .story-avatar-wrapper {
      width: 66px; height: 66px; padding: 2px;
      background: linear-gradient(45deg, #51E0B5, #51E0B5,#2CD8DE, #2CA0DE, #2E69E0);
    }
    .story-avatar { border: 2px solid white; }
    .story-name {
      overflow: hidden; text-overflow: ellipsis;
      white-space: nowrap;
    }
    .overflow-x-auto::-webkit-scrollbar { display: none; }
    .overflow-x-auto { -ms-overflow-style: none; scrollbar-width: none; }
    .post-image {
      width: 100%; aspect-ratio: 1 / 1;
      object-fit: cover;
    }

  .zone-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .zone-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.25rem;
    font-size: 1.1rem;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    background-color: #fff;
    text-decoration: none;
    color: #212529;
    transition: background-color 0.2s;
  }

  .zone-item:hover {
    background-color: #f8f9fa;
  }

  .zone-count {
    color: #6c757d;
    font-weight: 500;
    font-size: 0.95rem;
  }
  </style>
</head>

<body>
  <!-- 標題列 -->
  <nav class="navbar navbar-light bg-white shadow-sm sticky-top">
    <div class="container d-flex justify-content-between align-items-center">
      <a class="navbar-brand" href="#">Trail 登山借問站</a>
      
      <!-- 新增的功能按鈕 -->
      <div class="d-flex gap-3">
        <a href="#chat" class="btn btn-outline-primary btn-sm">聊天室</a>
        <a href="#games" class="btn btn-outline-success btn-sm">小遊戲</a>
        <a href="#shop" class="btn btn-outline-warning btn-sm">商店區</a>
      </div>
    </div>
  </nav>

  <!-- 限時動態 -->
  <div class="container bg-white border-bottom py-3">
    <div class="overflow-x-auto text-nowrap d-flex" id="story-list">
      <!-- 限動由 JS 產生 -->
    </div>
  </div>

  <!-- 主要版面容器：左右兩欄 -->
<div class="container">
  <div class="row">
    
    <!-- 左邊：貼文區 -->
    <div class="col-md-8" id="post-container">
      <!-- JavaScript 貼文會塞到這裡 -->
    </div>

    <!-- 右邊：固定欄位 -->
<div class="col-md-4 d-none d-md-block">
  <div class="card right-sticky mt-4">
    <div class="card-body">
      <h5 class="card-title">你也感興趣</h5>
      <p class="card-text">借問消息</p>

    <!-- 專區清單 -->
    <div class="zone-list">
      <a href="/zone/陽明山" class="zone-item">
        陽明山專區
        <span class="zone-count">88 則貼文</span>
      </a>
      <a href="/zone/大屯山" class="zone-item">
        大屯山專區
        <span class="zone-count">54 則貼文</span>
      </a>
      <a href="/zone/象山" class="zone-item">
        象山專區
        <span class="zone-count">112 則貼文</span>
      </a>
      <a href="/zone/谷關七雄" class="zone-item">
        谷關七雄專區
        <span class="zone-count">32 則貼文</span>
      </a>
      <a href="/zone/一日單攻" class="zone-item">
        一日單攻專區
        <span class="zone-count">45 則貼文</span>
      </a>
      <a href="/zone/南二段" class="zone-item">
        南二段專區
        <span class="zone-count">67 則貼文</span>
      </a>
    </div>
</div>
</div>
 <!-- 聊天室區 -->
 <section id="chat" class="container my-5">
  <h3>聊天室（開發中）</h3>
  <p>這裡將顯示即時訊息或聊天框</p>
</section>

<!-- 小遊戲區 -->
<section id="games" class="container my-5">
  <h3>小遊戲（開發中）</h3>
  <p>你可以內嵌簡單遊戲、或連結外部平台</p>
</section>

<!-- 商店區 -->
<section id="shop" class="container my-5">
  <h3>商店區（開發中）</h3>
  <p>商品展示區、購物按鈕模擬等</p>
</section>

  </div>
</div>

  </div>
</div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // 限時動態資料
    const stories = [
      { name: "TrailSoul_92", img: "image/ashley-knedler-Pf5Pj7A5ddA-unsplash.jpg" },
      { name: "山林爺爺", img: "image/charles-etoroma-95UF6LXe-Lo-unsplash.jpg" },
      { name: "trailtrip210800", img: "image/joel-muniz-0QuIgOjLLXc-unsplash.jpg" },
      { name: "WanderRidge_07", img: "image/melissa-askew-tSlvoSZK77c-unsplash.jpg" },
      { name: "ForestStride_66", img: "image/sebastien-goldberg-BKLHxgbYFDI-unsplash.jpg" },
      { name: "melissa_0814", img: "image/melissa-askew-tSlvoSZK77c-unsplash.jpg" },
      { name: "小王", img: "image/toa-heftiba-O3ymvT7Wf9U-unsplash.jpg" },
      { name: "小美", img: "https://placekitten.com/106/106" },
      { name: "阿花", img: "https://placekitten.com/107/107" },
      { name: "小綠", img: "https://placekitten.com/108/108" },
      { name: "小藍", img: "https://placekitten.com/109/109" },
      { name: "小黑", img: "https://placekitten.com/110/110" },
      { name: "小紅", img: "https://placekitten.com/110/110" },
      { name: "小橙", img: "https://placekitten.com/111/111" },
      { name: "小白", img: "https://placekitten.com/111/111" },
      { name: "小黃", img: "https://placekitten.com/112/112" },
      { name: "小紫", img: "https://placekitten.com/113/113" },
      { name: "小橘", img: "https://placekitten.com/114/114" },
      { name: "小灰", img: "https://placekitten.com/115/115" },
      { name: "小粉", img: "https://placekitten.com/116/116" },
      { name: "小茶", img: "https://placekitten.com/117/117" }
    ];

    // 貼文資料
    const posts = [
      {
        user: "ㄐㄏ",
        location: "大屯火山群",
        avatar: "image/LINE_ALBUM_跟嫑嫑的朋露營_250421_5.jpg",
        photo: "image/LINE_ALBUM_跟嫑嫑的朋露營_250421_1.jpg",
        caption: "今天去露營，超讚！"
      },
      {
        user: "阿貓",
        location: "橘子公主的家",
        avatar: "https://placekitten.com/101/101",
        photo: "image/LINE_ALBUM_🐒🐟日常忘記吃藥💊_250421_2.jpg",
        caption: "根本沒在登山，還發上來..."
      },
      {
        user  : "旅人",
        location: "阿里山", 
        avatar: "https://placekitten.com/101/101",
        photo: "image/sebastien-goldberg-BKLHxgbYFDI-unsplash.jpg",
        caption: "其實滿漂亮的ㄋㄟ~~~~"              
      },
      {
        user : "吃貨",
        location: "士林夜市",
        avatar: "https://placekitten.com/102/102",
        photo: "image/hang-niu-Tn8DLxwuDMA-unsplash.jpg",
        caption: "這個炸雞好好吃！"
      },
      {
        user: "奶茶控",
        location: "台北101",
        avatar: "https://placekitten.com/103/103",
        photo: "image/jake-melara-Yh6K2eTr_FY-unsplash.jpg",
        caption: "這森林太好吃了，誰在吃森林阿，莫名其妙。。"
      }
    ];

    // 限動渲染
    const storyList = document.getElementById("story-list");
    stories.forEach(story => {
      storyList.innerHTML += `
        <div class="story-item d-inline-block text-center mx-2 align-top">
          <div class="story-avatar-wrapper rounded-circle mx-auto mb-1">
            <img src="${story.img}" class="story-avatar rounded-circle w-100 h-100 object-fit-cover" />
          </div>
          <p class="small story-name mb-0">${story.name}</p>
        </div>
      `;
    });

    // 貼文渲染
    const postContainer = document.getElementById("post-container");
    posts.forEach((post, index) => {
      const postId = `post-${index}`;
      postContainer.innerHTML += `
  <div class="bg-white border rounded my-4 p-3" style="max-width: 720px; margin: auto;">
    <div class="d-flex align-items-center mb-2">
      <div class="story-avatar-wrapper rounded-circle me-2">
        <img src="${post.avatar}" class="story-avatar rounded-circle w-100 h-100 object-fit-cover" />
      </div>
      <div>
        <strong>${post.user}</strong><br />
        <small class="text-muted"> ${post.location}</small>
      </div>
    </div>

    <img src="${post.photo}" class="img-fluid rounded post-image mb-2" />

    <!-- ✅ 加大圖示 + 加入讚數 -->
    <div class="fs-5 mb-2 d-flex align-items-center gap-3">
      <button class="btn btn-link p-0 d-flex align-items-center" onclick="toggleLike('${postId}')">
        <i class="bi bi-heart fs-4 me-1" id="${postId}-like-icon"></i>
        <span id="${postId}-like-count">0</span>
      </button>

      <button class="btn btn-link p-0 d-flex align-items-center" onclick="toggleComment('${postId}')">
        <i class="bi bi-chat fs-4 me-1"></i>
      </button>
    </div>

    <div class="d-none mb-2" id="${postId}-comment-box">
      <div class="input-group">
        <input type="text" class="form-control" id="${postId}-comment-input" placeholder="留言..." />
        <button class="btn btn-outline-secondary" onclick="submitComment('${postId}')">送出</button>
      </div>
    </div>

    <ul class="list-unstyled" id="${postId}-comment-list"></ul>

    <p class="mb-0"><strong>${post.user}</strong> ${post.caption}</p>
  </div>
`;
    });
    
    // 點讚互動功能
    function toggleLike(postId) {
  const icon = document.getElementById(`${postId}-like-icon`);
  const countSpan = document.getElementById(`${postId}-like-count`);
  const liked = icon.classList.contains("bi-heart-fill");

  if (liked) {
    icon.classList.remove("bi-heart-fill", "text-danger");
    icon.classList.add("bi-heart");
    countSpan.textContent = Math.max(0, parseInt(countSpan.textContent) - 1);
  } else {
    icon.classList.remove("bi-heart");
    icon.classList.add("bi-heart-fill", "text-danger");
    countSpan.textContent = parseInt(countSpan.textContent) + 1;
  }
}

    // 開啟留言框
    function toggleComment(postId) {
      const box = document.getElementById(`${postId}-comment-box`);
      box.classList.toggle("d-none");
    }

    // 提交留言
    function submitComment(postId) {
      const input = document.getElementById(`${postId}-comment-input`);
      const list = document.getElementById(`${postId}-comment-list`);
      const text = input.value.trim();
      if (text !== "") {
        const li = document.createElement("li");
        li.innerHTML = `<strong>你</strong> ${text}`;
        list.appendChild(li);
        input.value = "";
      }
    }
  </script>
</body>
</html>
